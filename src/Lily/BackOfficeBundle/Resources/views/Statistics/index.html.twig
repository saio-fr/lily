{% extends "LilyBackOfficeBundle::layout.html.twig" %}

{% block stylesheets %} 	   

{{ parent() }} 	   

{% stylesheets 'css/backoffice/statistics.css' 'js/daterangepicker/daterangepicker.css' filter='cssrewrite' output='css/compiled/statistics.css' %}      
<link rel="stylesheet" href="{{ asset_url }}" type="text/css" />     

{% endstylesheets %} 

{% endblock %}

{% block body %} 

<section class="hbox stretch">

{% include "LilyBackOfficeBundle::menu.html.twig" with {'user': 'user'}  %}

	{% block content %}
	<!-- .vbox -->
    <section id="statistics">
      <section class="vbox">        
        
		<header class="header bg-dark bg-gradient">
		  <ul id="statistics-nav" class="nav nav-tabs">
		    <li class="usage-nav active"><a href="#usage">Utilisation</a></li>
		    <li class="dialogue-nav"><a href="#dialogue">Dialogue</a></li>
		  </ul>
		</header>    
        
        <section class="scrollable">
	  	  <div class="wrapper">
			<div id="statistics-row" class="row"></div>
	      </div>
		</section>

      </section>
    </section>   

	{% endblock %}

</section>

	{% block templates %}
	<!-- L'appel des diffÃ©rents scripts de vue -->
	<script type="text/template" id="usage">
        {% include 'LilyBackOfficeBundle:Statistics:usage.html.twig' %}
    </script>
	<script type="text/template" id="graph-usage">
        {% include 'LilyBackOfficeBundle:Statistics:graph-usage.html.twig' %}
    </script>
    <script type="text/template" id="graph-usage-footer">
        {% include 'LilyBackOfficeBundle:Statistics:graph-usage-footer.html.twig' %}
    </script>
	<script type="text/template" id="dialogue">
        {% include 'LilyBackOfficeBundle:Statistics:dialogue.html.twig' with {'categories': categories} %}
    </script>
    <script type="text/template" id="graph-dialogue">
        {% include 'LilyBackOfficeBundle:Statistics:graph-dialogue.html.twig' %}
    </script>
    <script type="text/template" id="graph-dialogue-footer">
        {% include 'LilyBackOfficeBundle:Statistics:graph-dialogue-footer.html.twig' %}
    </script>
    {% endblock %}

	{% block bootstrap %}
	    {% autoescape false %}
	    <script type="text/javascript">
	        var root = '{{ path('lily_statistics') }}';
	    </script>
	    {% endautoescape %}
	{% endblock %}

{% endblock %}

{% block javascripts %}

{{ parent() }}

{% javascripts 'js/charts/flot/jquery.flot.min.js' 'js/charts/flot/jquery.flot.tooltip.min.js' 'js/charts/flot/jquery.flot.resize.js' 'js/charts/flot/jquery.flot.orderBars.js' 'js/charts/flot/jquery.flot.pie.min.js' 'js/charts/flot/jquery.flot.time.min.js' 'js/charts/morris/raphael-min.js' 'js/charts/morris/morris.min.js' 'js/vendor/moment.js' 'js/daterangepicker/daterangepicker.js' 'js/backoffice/statistics.js' %}

  <script type="text/javascript" src="{{ asset_url }}"></script>
  
{% endjavascripts %}

{% endblock %}